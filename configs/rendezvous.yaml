# FDO Rendezvous server default configuration
log:
  level: "info"
db:
  type: "sqlite"
  dsn: "file:/var/lib/go-fdo-server-rendezvous/db.sqlite"
http:
  ip: "0.0.0.0"
  port: "8041"
  # To enable HTTPS provide the server certificate and matching
  # private key below. If the certificate is signed by a certificate
  # authority, the certFile should be the concatenation of the
  # server's certificate, any intermediates, and the CA's certificate.
  ##cert: /etc/pki/go-fdo-server/rendezvous-https-example.crt
  ##key: /etc/pki/go-fdo-server/rendezvous-https-example.key
rendezvous:
  # Minimum wait time in seconds the rendezvous server will accept for TO0 rendezvous entries.
  # If an owner server requests a wait time lower than this value during TO0,
  # the request will be rejected.
  # This prevents owner servers from setting very short wait times that could
  # cause devices to miss their rendezvous window.
  # Default: 0 (no minimum, all requests accepted)
  ##to0_min_wait: 0

  # Maximum wait time in seconds the rendezvous server will accept for TO0 rendezvous entries.
  # If an owner server requests a wait time higher than this value during TO0,
  # the request will be accepted but the wait time will be capped at this maximum.
  # This prevents owner servers from registering rendezvous blobs for excessively long periods.
  # Default: 86400 (24 hours)
  ##to0_max_wait: 86400

  # Interval in seconds for automatic cleanup of expired rendezvous blobs and sessions from the database.
  # The cleanup task runs periodically in the background, removing rendezvous blobs that
  # have exceeded their expiration time and sessions older than session_timeout
  # to prevent database bloat.
  # Set to 0 to disable automatic cleanup (not recommended for production).
  # Default: 3600 (1 hour)
  ##cleanup_interval: 3600

  # Maximum age in seconds for protocol sessions (TO0/TO1) before cleanup.
  # Sessions older than this age will be deleted during periodic cleanup, along with
  # their associated session data. This prevents accumulation of orphaned sessions
  # from interrupted or failed protocol exchanges.
  # Default: 3600 (1 hour)
  ##session_timeout: 3600

  # Delay in seconds before the first cleanup runs after server startup.
  # This prevents startup spikes when restarting servers with large amounts of expired data,
  # allowing the server to start serving requests before running potentially heavy cleanup operations.
  # Default: 300 (5 minutes)
  ##initial_cleanup_delay: 300
